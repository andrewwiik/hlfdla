<html>

<head></head>

<body>
    <iframe id="bFrame" style="border:0px #ffffff none;" width="3000" height="40" src="" scrolling="no" frameborder="1" allowfullscreen=""></iframe>
    <h2 id="nextPage"></h2>
    <button onclick="myFunction()">Next</button>
    <script>

    	function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
}
    	function getUrlParam(parameter, defaultvalue){
		    var urlparameter = defaultvalue;
		    if(window.location.href.indexOf(parameter) > -1){
		        urlparameter = getUrlVars()[parameter];
		    }
		    return urlparameter;
		}

		function getUrlVars1() {
    var vars = {};
    var parts = document.getElementById('bFrame').src.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
}
    	function getUrlParam1(parameter, defaultvalue){
		    var urlparameter = defaultvalue;
		    if(document.getElementById('bFrame').src.indexOf(parameter) > -1){
		        urlparameter = getUrlVars1()[parameter];
		    }
		    return urlparameter;
		}

		var fPage = parseInt(getUrlParam('fPage', 1));
		var lPage = fPage + 30;

		let url = "https://jigsaw.vitalsource.com/api/v0/books/9781307123753/print?from=" + fPage + "&to=" + lPage;
		document.getElementById('bFrame').src = url;
		document.getElementById('nextPage').innerHTML = lPage + 1;

		function myFunction() {
			var fPage1 = parseInt(getUrlParam1('to', 1)) + 1;
			var lPage2 = fPage1 + 30;
			let url1 = "https://jigsaw.vitalsource.com/api/v0/books/9781307123753/print?from=" + fPage1 + "&to=" + lPage2;
			document.getElementById('bFrame').src = url1;
			document.getElementById('nextPage').innerHTML = lPage2 + 1;
		}
		// setTimeout(function () { window.close(); }, 100);
		// var onPrintFinished=function(printed){console.log("do something...");}

		// //print command
		// onPrintFinished(window.print());
    </script>
</body>

</html>
